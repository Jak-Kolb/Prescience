camera:
  source: 0

line:
  line_id: line-1

zone:
  polygon:
    - [120, 120]
    - [520, 120]
    - [520, 420]
    - [120, 420]
  direction: left_to_right

counting:
  min_separation_seconds: 0.4
  track_cooldown_seconds: 1.0
  max_track_idle_frames: 30

tracker:
  conf: 0.01
  classes: []
  tracker_cfg: configs/bytetrack_low_conf.yaml

quality:
  min_brightness: 30.0
  min_blur: 10.0
  alert_cooldown_seconds: 20.0

events:
  endpoint: http://127.0.0.1:8000/events
  local_jsonl_path: data/runs/events.jsonl
  heartbeat_interval_seconds: 5.0
  request_timeout_seconds: 2.0

model:
  path: yolov8n.pt

embedding:
  backbone: resnet18
  threshold: 0.72
  preprocess_version: v1

profiles:
  root: data/profiles

cloud:
  db_path: data/cloud/prescience.db
  pairing:
    required: false
  heartbeat_timeout_seconds: 90
  sse_retry_ms: 1500

onboarding_vlm:
  enabled: true
  model: gemini-3-pro-preview
  api_key_env: GEMINI_API_KEY
  batch_size: 24
  seed_target_count: 24
  seed_required_reviews: 3
  initial_approval_target_count: 24
  append_approval_target_count: 30
  max_boxes_seed: 4
  max_boxes_approval: 8
  trust_required_reviews: 3
  initial_auto_approval_count: 24
  append_auto_approval_count: 30
  gemini_retry_attempts: 3
  gemini_retry_backoff_seconds: 1.5
  failure_mode: manual_prompt
  auto_after_trust: true
  detector_conf_for_auto_label: 0.02
